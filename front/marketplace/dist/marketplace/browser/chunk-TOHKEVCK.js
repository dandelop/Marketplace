import{L as i,R as o,o as s,tb as n,va as p}from"./chunk-MG2CXFTW.js";var m=(()=>{class r{apiUrl="http://localhost:3000/usuarios";http=o(n);userCount=p(0);constructor(){this.updateUserCount()}updateUserCount(){this.getAllUsers().pipe(s(t=>t.length)).subscribe(t=>{this.userCount.set(t)})}getAllUsers(){return this.http.get(this.apiUrl)}createUser(t){return this.http.post(this.apiUrl,t).pipe(s(e=>(this.updateUserCount(),e)))}getUserByName(t){return this.http.get(this.apiUrl).pipe(s(e=>e.filter(a=>a.nombre.toLowerCase()===t.toLowerCase())))}deleteUser(t){return this.http.delete(`${this.apiUrl}/${t}`).pipe(s(e=>(this.updateUserCount(),e)))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{m as a};
